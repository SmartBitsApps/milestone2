<div class="form-wrapper">
  <div class="col-md-12"><p>
    <%= link_to "Zpět", :back, class: "btn btn-primary btn-lg" %>
  </p>
</div>
	<div class="form-login col-md-12">
	  <h2>Můj profil</h2>
	  <br>
	  <hr>
	  <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), :html => {:method => :put, :multipart => true}) do |f| %>
      <div class="col-md-8 col-md-offset-2">
      	<%= f.error_notification %>
      </div>
      <div class="form-inputs">
		    <div class="col-md-6">
		    	<div class="row">
		    		<div id="avatar" class="">
		    			
		    			<%= f.hidden_field :avatar_cache %>
		    			
		    			<% if !@user.avatar.file.nil? %>
            			<%= image_tag(@user.avatar.url(:medium), alt: "Profile Picture", class: 'center') %>
            	<% end %>
            	
            	<br>
            	<!-- TODO zobrazit tlačítko "změnit" po kliknutí, upload nového avataru-->
              <%= f.file_field :avatar, class: "btn btn-default center" %>
            	
            	<br><br>
		    		</div>
		    	</div>
		    	<div class="row" id="name_fields">
		    	  <div class="col-md-10 col-md-offset-1">
		    		  <hr>
		    		  <%= f.input :first_name, required: false, label: 'Jméno', autofocus: true %>
              <%= f.input :last_name, required: false, label: 'Příjmení' %>
              <%= f.input :birth_name, required: false, label: 'Rodné příjmení' %>
            </div>
		    	</div>
		    	
		    	<div class="row" id="communication">
		    	  <div class="col-md-10 col-md-offset-1">
		    		  <hr>
              <%= f.input :email, disabled: true %>
              <!-- TODO ZDE PŘIDAT phone_number -->
            </div>
		    	</div>
		    	
		    	<div class="row" id="address">
		    	  <div class="col-md-10 col-md-offset-1">
		    		  <hr>
              <!-- TODO ZDE PŘIDAT ADRESU (street, city,..) -->
              <%= f.input :birth_number, required: false, label: 'Adresa' %>
            </div>
		    	</div>
		    	
		    </div>
		    
		    <div class="col-md-6">
		    	
		    	
		    	<div class="row" id="birth">
		    	  <div class="col-md-10 col-md-offset-1">
             
              <div class="form-group user_birth_date">
          			<%= f.input :birth_date, type: "text", required: false, label: 'Datum narození', input_html: { id: 'datetimepicker' } %>
        			</div>
        			<%= f.input :gender, :label => "Pohlaví", as: :radio_buttons, collection: ['Muž', 'Žena'], wrapper: :vertical_radio_and_checkboxes %>
              <%= f.input :birth_place, required: false, label: 'Místo narození' %>
              <%= f.input :nationality, required: false, label: 'Státní příslušnost' %>
            </div>
		    	</div>
		      
		    	<div class="row" id="personal">
		    	  <div class="col-md-10 col-md-offset-1">
		    		  <hr>
              
              <%= f.input :family_status, required: false, label: 'Rodinný stav' %>
              <%= f.input :birth_number, required: false, label: 'Rodné číslo' %>
              <br>
              <%= f.input :bank_acc, required: false, label: 'Bankovní účet' %>
              <%= f.input :insurance, required: false, label: 'Zdravotní pojišťovna' %>
              <br>
              <%= f.input :occupation, required: false, label: 'Současný stav' %>
            </div>
		    	</div>
		    	
		    	
		    	
		    	<div class="row" id="status">
		    	  <div class="col-md-10 col-md-offset-1">
		    		  <hr>
		    		  <h4>Status : <%= @user.status %></h4>
		    		  <h4>Role : <%= @user.role %></h4>
		    		  <h4>Progress : <%= @user.reg_progress %></h4>
            </div>
		    	</div>
		    </div>
		    <div class="col-md-10 col-md-offset-1"><hr></div>
		    <div class="col-md-6 col-md-offset-3">
		      <br>
		      <div class="password">
            <%= f.input :current_password, hint: "Pro uložení změn zadejte současné heslo!", required: false %>
		      </div>
		      <div class="form-actions">
            <%= f.button :submit, "Uložit změny", class: "btn btn-primary btn-lg btn-block" %>
          </div>
        </div>
		  </div>
		<% end %>
	</div>
</div>

<script>
  $(function () {
      $('#datetimepicker').datetimepicker({
        locale: 'cs',
        format: 'L'
      });
  });
</script>
